{"version":3,"file":"js/943.738e65c1.js","mappings":"0cAMA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAAQC,EAAAA,EAAAA,MACRC,EAAKF,EAAMG,OAAOD,GAElBE,GAAUC,EAAAA,EAAAA,IAAI,CAClBC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,MAAO,GACPC,KAAM,KACNC,SAAU,MAGZC,EAAAA,EAAAA,KAAUC,UAGR,SAFMf,EAAMgB,SAAS,2BAA4BZ,SAC3CJ,EAAMgB,SAAS,wCAAyCZ,GAC1DJ,EAAMiB,MAAMC,cAAcZ,QAAS,CACrC,MAAMa,EAAWnB,EAAMiB,MAAMC,cAAcC,UACrC,KAAEX,EAAI,MAAEC,EAAK,SAAEC,EAAUC,MAAOC,EAAI,SAAEC,GAAab,EAAMiB,MAAMC,cAAcZ,QACnFA,EAAQc,MAAQ,CACdZ,OACAC,QACAC,WACAC,MAAO,CACL,IAAIU,KAAK,CAACF,GAAWA,EAASX,KAAM,CAClCc,KAAMH,EAASI,eAGnBX,OACAC,WAEJ,KAGF,MAAMW,EAAUC,IACd,MAAMC,EAAOD,EAAME,OAAOC,MAAM,GAChC,GAAIF,EAAM,CACR,MAAMG,EAAMC,IAAIC,gBAAgBL,GAChCpB,EAAQc,MAAMR,KAAOiB,CACvB,GAGIG,EAASjB,gBACPf,EAAMgB,SAAS,4BAA6B,CAChDZ,KACAI,KAAMF,EAAQc,MAAMZ,KACpBC,MAAOH,EAAQc,MAAMX,MACrBE,MAAOL,EAAQc,MAAMT,MAAM,GAC3BD,SAAUJ,EAAQc,MAAMV,SACxBG,SAAUP,EAAQc,MAAMP,UACxB,EAGEoB,EAAOA,KACXC,EAAAA,EAAAA,IAAW,EAAE,E,83ECzDf,MAAMC,EAAc,EAEpB,O","sources":["webpack://client/./src/views/store/EditProductView.vue","webpack://client/./src/views/store/EditProductView.vue?eb4f"],"sourcesContent":["<script setup>\nimport { onMounted, ref } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport router from '@/router';\n\nconst store = useStore();\nconst route = useRoute();\nconst id = route.params.id;\n\nconst product = ref({\n  name: '',\n  price: '',\n  quantity: '',\n  image: [],\n  blob: null,\n  category: '',\n});\n\nonMounted(async () => {\n  await store.dispatch('productsStore/getProduct', id);\n  await store.dispatch('productsStore/getMetadataImageProduct', id);\n  if (store.state.productsStore.product) {\n    const metadata = store.state.productsStore.metadata;\n    const { name, price, quantity, image: blob, category } = store.state.productsStore.product;\n    product.value = {\n      name,\n      price,\n      quantity,\n      image: [\n        new File([metadata], metadata.name, {\n          type: metadata.contentType,\n        }),\n      ],\n      blob,\n      category,\n    };\n  }\n});\n\nconst change = (event) => {\n  const file = event.target.files[0];\n  if (file) {\n    const url = URL.createObjectURL(file);\n    product.value.blob = url;\n  }\n};\n\nconst update = async () => {\n  await store.dispatch('productsStore/editProduct', {\n    id,\n    name: product.value.name,\n    price: product.value.price,\n    image: product.value.image[0],\n    quantity: product.value.quantity,\n    category: product.value.category,\n  });\n};\n\nconst back = () => {\n  router.go(-1);\n};\n</script>\n\n<template>\n  <div class=\"rounded-xl px-md-10 mx-md-10\" @keyup.enter=\"update\">\n    <v-row justify=\"center \">\n      <v-col cols=\"12\" md=\"10\">\n        <v-card class=\"bg-dark ma-3 pt-5 rounded-xl\">\n          <v-card-title style=\"color: #0fe\" class=\"text-center\">\n            <span class=\"text-h5\">Edit Project</span>\n          </v-card-title>\n\n          <v-card-text style=\"color: #0fe\">\n            <v-container>\n              <v-row>\n                <v-col cols=\"12\" md=\"6\" sm=\"6\">\n                  <v-text-field\n                    label=\"Product Name\"\n                    name=\"product\"\n                    variant=\"outlined\"\n                    v-model=\"product.name\"\n                    required\n                    type=\"text\"\n                  ></v-text-field>\n                </v-col>\n                <v-col cols=\"12\" md=\"2\" sm=\"2\">\n                  <v-text-field\n                    label=\"Price\"\n                    name=\"price\"\n                    variant=\"outlined\"\n                    v-model=\"product.price\"\n                    required\n                    type=\"text\"\n                  ></v-text-field>\n                </v-col>\n                <v-col cols=\"12\" md=\"2\" sm=\"2\">\n                  <v-text-field\n                    label=\"Quantity\"\n                    name=\"quantity\"\n                    variant=\"outlined\"\n                    v-model=\"product.quantity\"\n                    required\n                    type=\"text\"\n                  ></v-text-field>\n                </v-col>\n                <v-col cols=\"12\" md=\"2\" sm=\"2\">\n                  <v-autocomplete\n                    label=\"Category\"\n                    :items=\"['Makanan', 'Pakaian', 'Skincare']\"\n                    variant=\"outlined\"\n                    v-model=\"product.category\"\n                  ></v-autocomplete>\n                </v-col>\n                <v-col cols=\"12\">\n                  <v-file-input\n                    label=\"Image\"\n                    variant=\"outlined\"\n                    prepend-icon=\"mdi-image\"\n                    v-model=\"product.image\"\n                    accept=\"image/*\"\n                    type=\"file\"\n                    maxFileSize=\"512000\"\n                    @change=\"change\"\n                  ></v-file-input>\n                  <v-card width=\"50%\" v-if=\"product.blob\">\n                    <v-img :src=\"product.blob\"></v-img>\n                  </v-card>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue\" variant=\"text\" @click=\"back()\"> Back </v-btn>\n            <v-btn color=\"#0fe\" variant=\"text\" @click=\"update()\"> Update </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n","import script from \"./EditProductView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditProductView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","route","useRoute","id","params","product","ref","name","price","quantity","image","blob","category","onMounted","async","dispatch","state","productsStore","metadata","value","File","type","contentType","change","event","file","target","files","url","URL","createObjectURL","update","back","router","__exports__"],"sourceRoot":""}